<!-- 喜好項目特價彈窗 -->
<div id="sale-popup" class="sale-popup hidden" role="dialog" aria-modal="true" aria-labelledby="sale-popup-title">
  <div class="sale-popup__card">
    <button type="button" class="sale-popup__close" aria-label="關閉" onclick="SalePopup.hide()">✕</button>
    <h3 id="sale-popup-title">你加入的喜好項目正在特價！</h3>
    <p class="sale-popup__desc">
      「<span id="sale-popup-item-name"></span>」現正 <span id="sale-popup-discount"></span>，別錯過！
    </p>
    <div class="sale-popup__actions">
      <a id="sale-popup-detail" class="btn btn-primary">查看折扣</a>
      <a id="sale-popup-nav" class="btn btn-secondary" target="_blank" rel="noopener">導航</a>
    </div>
  </div>
</div>

<style>
  .hidden { display: none; }
  .sale-popup { position: fixed; inset: 0; background: rgba(0,0,0,.45); display: flex; align-items: center; justify-content: center; z-index: 9999; }
  .sale-popup__card { width: min(92vw, 480px); background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,.25); position: relative; font-family: system-ui, sans-serif; }
  .sale-popup__close { position: absolute; top: 10px; right: 12px; border: 0; background: transparent; font-size: 18px; cursor: pointer; }
  .sale-popup__desc { margin: 8px 0 16px; line-height: 1.5; }
  .sale-popup__actions { display: flex; gap: 10px; }
  .btn { padding: 10px 14px; border-radius: 10px; text-decoration: none; display: inline-flex; align-items:center; justify-content:center; }
  .btn-primary { background: #1f6feb; color: #fff; }
  .btn-secondary { background: #e6e6e6; color: #111; }
</style>
<style>
  .hidden { display: none; }
  .sale-popup {
    position: fixed; inset: 0; background: rgba(0,0,0,.45);
    display: flex; align-items: center; justify-content: center; z-index: 9999;
  }
  /* 這一條一定要在 .sale-popup 後面，並且更高優先度 */
  .sale-popup.hidden { display: none !important; }

  .sale-popup__card { width: min(92vw, 480px); background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,.25); position: relative; font-family: system-ui, sans-serif; }
  .sale-popup__close { position: absolute; top: 10px; right: 12px; border: 0; background: transparent; font-size: 18px; cursor: pointer; }
  .sale-popup__desc { margin: 8px 0 16px; line-height: 1.5; }
  .sale-popup__actions { display: flex; gap: 10px; }
  .btn { padding: 10px 14px; border-radius: 10px; text-decoration: none; display: inline-flex; align-items:center; justify-content:center; }
  .btn-primary { background: #1f6feb; color: #fff; }
  .btn-secondary { background: #e6e6e6; color: #111; }
</style>

